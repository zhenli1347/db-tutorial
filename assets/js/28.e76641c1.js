(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{362:function(t,s,a){"use strict";a.r(s);var e=a(4),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"sqlite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sqlite"}},[t._v("#")]),t._v(" SQLite")]),t._v(" "),s("blockquote",[s("p",[t._v("SQLite 是一个实现了自给自足的、无服务器的、零配置的、事务性的 SQL 数据库引擎。\n👉 "),s("a",{attrs:{href:"https://github.com/dunwu/db-tutorial/tree/master/codes/javadb/javadb-sqlite",target:"_blank",rel:"noopener noreferrer"}},[t._v("完整示例源码"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),s("h3",{attrs:{id:"优点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优点"}},[t._v("#")]),t._v(" 优点")]),t._v(" "),s("ul",[s("li",[t._v("SQLite 是自给自足的，这意味着不需要任何外部的依赖。")]),t._v(" "),s("li",[t._v("SQLite 是无服务器的、零配置的，这意味着不需要安装或管理。")]),t._v(" "),s("li",[t._v("SQLite 事务是完全兼容 ACID 的，允许从多个进程或线程安全访问。")]),t._v(" "),s("li",[t._v("SQLite 是非常小的，是轻量级的，完全配置时小于 400KiB，省略可选功能配置时小于 250KiB。")]),t._v(" "),s("li",[t._v("SQLite 支持 SQL92（SQL2）标准的大多数查询语言的功能。")]),t._v(" "),s("li",[t._v("一个完整的 SQLite 数据库是存储在一个单一的跨平台的磁盘文件。")]),t._v(" "),s("li",[t._v("SQLite 使用 ANSI-C 编写的，并提供了简单和易于使用的 API。")]),t._v(" "),s("li",[t._v("SQLite 可在 UNIX（Linux, Mac OS-X, Android, iOS）和 Windows（Win32, WinCE, WinRT）中运行。")])]),t._v(" "),s("h3",{attrs:{id:"局限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#局限"}},[t._v("#")]),t._v(" 局限")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("特性")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("RIGHT OUTER JOIN")]),t._v(" "),s("td",[t._v("只实现了 LEFT OUTER JOIN。")])]),t._v(" "),s("tr",[s("td",[t._v("FULL OUTER JOIN")]),t._v(" "),s("td",[t._v("只实现了 LEFT OUTER JOIN。")])]),t._v(" "),s("tr",[s("td",[t._v("ALTER TABLE")]),t._v(" "),s("td",[t._v("支持 RENAME TABLE 和 ALTER TABLE 的 ADD COLUMN variants 命令，不支持 DROP COLUMN、ALTER COLUMN、ADD CONSTRAINT。")])]),t._v(" "),s("tr",[s("td",[t._v("Trigger 支持")]),t._v(" "),s("td",[t._v("支持 FOR EACH ROW 触发器，但不支持 FOR EACH STATEMENT 触发器。")])]),t._v(" "),s("tr",[s("td",[t._v("VIEWs")]),t._v(" "),s("td",[t._v("在 SQLite 中，视图是只读的。您不可以在视图上执行 DELETE、INSERT 或 UPDATE 语句。")])]),t._v(" "),s("tr",[s("td",[t._v("GRANT 和 REVOKE")]),t._v(" "),s("td",[t._v("可以应用的唯一的访问权限是底层操作系统的正常文件访问权限。")])])])]),t._v(" "),s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("p",[t._v("Sqlite 可在 UNIX（Linux, Mac OS-X, Android, iOS）和 Windows（Win32, WinCE, WinRT）中运行。")]),t._v(" "),s("p",[t._v("一般，Linux 和 Mac 上会预安装 sqlite。如果没有安装，可以在"),s("a",{attrs:{href:"https://www.sqlite.org/download.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方下载地址"),s("OutboundLink")],1),t._v("下载合适安装版本，自行安装。")]),t._v(" "),s("h2",{attrs:{id:"语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[t._v("#")]),t._v(" 语法")]),t._v(" "),s("blockquote",[s("p",[t._v("这里不会详细列举所有 SQL 语法，仅列举 SQLite 除标准 SQL 以外的，一些自身特殊的 SQL 语法。")]),t._v(" "),s("p",[t._v("👉 扩展阅读："),s("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/docs/database/sql/sql.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("标准 SQL 基本语法"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"大小写敏感"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#大小写敏感"}},[t._v("#")]),t._v(" 大小写敏感")]),t._v(" "),s("p",[t._v("SQLite 是"),s("strong",[t._v("不区分大小写")]),t._v("的，但也有一些命令是大小写敏感的，比如 "),s("strong",[t._v("GLOB")]),t._v(" 和 "),s("strong",[t._v("glob")]),t._v(" 在 SQLite 的语句中有不同的含义。")]),t._v(" "),s("h3",{attrs:{id:"注释"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注释"}},[t._v("#")]),t._v(" 注释")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 单行注释")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n 多行注释1\n 多行注释2\n */")]),t._v("\n")])])]),s("h3",{attrs:{id:"创建数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建数据库"}},[t._v("#")]),t._v(" 创建数据库")]),t._v(" "),s("p",[t._v("如下，创建一个名为 test 的数据库：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ sqlite3 test.db\nSQLite version "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.7")]),t._v(".17 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2013")]),t._v("-05-20 00:56:22\nEnter "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".help"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" instructions\nEnter SQL statements terminated with a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('";"')]),t._v("\n")])])]),s("h3",{attrs:{id:"查看数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看数据库"}},[t._v("#")]),t._v(" 查看数据库")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("sqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" .databases\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("seq")]),t._v("  name             "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n---  ---------------  ----------------------------------------------------------\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    main             /root/test.db\n")])])]),s("h3",{attrs:{id:"退出数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#退出数据库"}},[t._v("#")]),t._v(" 退出数据库")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("sqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" .quit\n")])])]),s("h3",{attrs:{id:"附加数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附加数据库"}},[t._v("#")]),t._v(" 附加数据库")]),t._v(" "),s("p",[t._v("假设这样一种情况，当在同一时间有多个数据库可用，您想使用其中的任何一个。")]),t._v(" "),s("p",[t._v("SQLite 的 "),s("strong",[s("code",[t._v("ATTACH DATABASE")])]),t._v(" 语句是用来选择一个特定的数据库，使用该命令后，所有的 SQLite 语句将在附加的数据库下执行。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("sqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" ATTACH DATABASE "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test.db'")]),t._v(" AS "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" .databases\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("seq")]),t._v("  name             "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n---  ---------------  ----------------------------------------------------------\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    main             /root/test.db\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("             /root/test.db\n")])])]),s("blockquote",[s("p",[t._v("🔔 注意：数据库名 "),s("strong",[s("code",[t._v("main")])]),t._v(" 和 "),s("strong",[s("code",[t._v("temp")])]),t._v(" 被保留用于主数据库和存储临时表及其他临时数据对象的数据库。这两个数据库名称可用于每个数据库连接，且不应该被用于附加，否则将得到一个警告消息。")])]),t._v(" "),s("h3",{attrs:{id:"分离数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分离数据库"}},[t._v("#")]),t._v(" 分离数据库")]),t._v(" "),s("p",[t._v("SQLite 的 "),s("strong",[s("code",[t._v("DETACH DATABASE")])]),t._v(" 语句是用来把命名数据库从一个数据库连接分离和游离出来，连接是之前使用 "),s("strong",[s("code",[t._v("ATTACH")])]),t._v(" 语句附加的。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("sqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" .databases\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("seq")]),t._v("  name             "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n---  ---------------  ----------------------------------------------------------\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    main             /root/test.db\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("             /root/test.db\nsqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" DETACH DATABASE "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" .databases\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("seq")]),t._v("  name             "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n---  ---------------  ----------------------------------------------------------\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    main             /root/test.db\n")])])]),s("h3",{attrs:{id:"备份数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#备份数据库"}},[t._v("#")]),t._v(" 备份数据库")]),t._v(" "),s("p",[t._v("如下，备份 test 数据库到 "),s("code",[t._v("/home/test.sql")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("sqlite3 test.db .dump "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /home/test.sql\n")])])]),s("h3",{attrs:{id:"恢复数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#恢复数据库"}},[t._v("#")]),t._v(" 恢复数据库")]),t._v(" "),s("p",[t._v("如下，根据 "),s("code",[t._v("/home/test.sql")]),t._v(" 恢复 test 数据库")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("sqlite3 test.db "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" test.sql\n")])])]),s("h2",{attrs:{id:"数据类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据类型"}},[t._v("#")]),t._v(" 数据类型")]),t._v(" "),s("p",[t._v("SQLite 使用一个更普遍的动态类型系统。在 SQLite 中，值的数据类型与值本身是相关的，而不是与它的容器相关。")]),t._v(" "),s("h3",{attrs:{id:"sqlite-存储类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sqlite-存储类"}},[t._v("#")]),t._v(" SQLite 存储类")]),t._v(" "),s("p",[t._v("每个存储在 SQLite 数据库中的值都具有以下存储类之一：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("存储类")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("NULL")])]),t._v(" "),s("td",[t._v("值是一个 NULL 值。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("INTEGER")])]),t._v(" "),s("td",[t._v("值是一个带符号的整数，根据值的大小存储在 1、2、3、4、6 或 8 字节中。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("REAL")])]),t._v(" "),s("td",[t._v("值是一个浮点值，存储为 8 字节的 IEEE 浮点数字。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("TEXT")])]),t._v(" "),s("td",[t._v("值是一个文本字符串，使用数据库编码（UTF-8、UTF-16BE 或 UTF-16LE）存储。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("BLOB")])]),t._v(" "),s("td",[t._v("值是一个 blob 数据，完全根据它的输入存储。")])])])]),t._v(" "),s("p",[t._v("SQLite 的存储类稍微比数据类型更普遍。INTEGER 存储类，例如，包含 6 种不同的不同长度的整数数据类型。")]),t._v(" "),s("h3",{attrs:{id:"sqlite-亲和-affinity-类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sqlite-亲和-affinity-类型"}},[t._v("#")]),t._v(" SQLite 亲和(Affinity)类型")]),t._v(" "),s("p",[t._v("SQLite 支持列的亲和类型概念。任何列仍然可以存储任何类型的数据，当数据插入时，该字段的数据将会优先采用亲缘类型作为该值的存储方式。SQLite 目前的版本支持以下五种亲缘类型：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("亲和类型")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("TEXT")])]),t._v(" "),s("td",[t._v("数值型数据在被插入之前，需要先被转换为文本格式，之后再插入到目标字段中。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("NUMERIC")])]),t._v(" "),s("td",[t._v('当文本数据被插入到亲缘性为 NUMERIC 的字段中时，如果转换操作不会导致数据信息丢失以及完全可逆，那么 SQLite 就会将该文本数据转换为 INTEGER 或 REAL 类型的数据，如果转换失败，SQLite 仍会以 TEXT 方式存储该数据。对于 NULL 或 BLOB 类型的新数据，SQLite 将不做任何转换，直接以 NULL 或 BLOB 的方式存储该数据。需要额外说明的是，对于浮点格式的常量文本，如"30000.0"，如果该值可以转换为 INTEGER 同时又不会丢失数值信息，那么 SQLite 就会将其转换为 INTEGER 的存储方式。')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("INTEGER")])]),t._v(" "),s("td",[t._v("对于亲缘类型为 INTEGER 的字段，其规则等同于 NUMERIC，唯一差别是在执行 CAST 表达式时。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("REAL")])]),t._v(" "),s("td",[t._v('其规则基本等同于 NUMERIC，唯一的差别是不会将"30000.0"这样的文本数据转换为 INTEGER 存储方式。')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("NONE")])]),t._v(" "),s("td",[t._v("不做任何的转换，直接以该数据所属的数据类型进行存储。")])])])]),t._v(" "),s("h3",{attrs:{id:"sqlite-亲和类型-affinity-及类型名称"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sqlite-亲和类型-affinity-及类型名称"}},[t._v("#")]),t._v(" SQLite 亲和类型(Affinity)及类型名称")]),t._v(" "),s("p",[t._v("下表列出了当创建 SQLite3 表时可使用的各种数据类型名称，同时也显示了相应的亲和类型：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("数据类型")]),t._v(" "),s("th",[t._v("亲和类型")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("INT")]),t._v(", "),s("code",[t._v("INTEGER")]),t._v(", "),s("code",[t._v("TINYINT")]),t._v(", "),s("code",[t._v("SMALLINT")]),t._v(", "),s("code",[t._v("MEDIUMINT")]),t._v(", "),s("code",[t._v("BIGINT")]),t._v(", "),s("code",[t._v("UNSIGNED BIG INT")]),t._v(", "),s("code",[t._v("INT2")]),t._v(", "),s("code",[t._v("INT8")])]),t._v(" "),s("td",[s("code",[t._v("INTEGER")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("CHARACTER(20)")]),t._v(", "),s("code",[t._v("VARCHAR(255)")]),t._v(", "),s("code",[t._v("VARYING CHARACTER(255)")]),t._v(", "),s("code",[t._v("NCHAR(55)")]),t._v(", "),s("code",[t._v("NATIVE CHARACTER(70)")]),t._v(", "),s("code",[t._v("NVARCHAR(100)")]),t._v(", "),s("code",[t._v("TEXT")]),t._v(", "),s("code",[t._v("CLOB")])]),t._v(" "),s("td",[s("code",[t._v("TEXT")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("BLOB")]),t._v(", "),s("code",[t._v("no datatype specified")])]),t._v(" "),s("td",[s("code",[t._v("NONE")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("REAL")]),t._v(", "),s("code",[t._v("DOUBLE")]),t._v(", "),s("code",[t._v("DOUBLE PRECISION")]),t._v(", "),s("code",[t._v("FLOAT")])]),t._v(" "),s("td",[s("code",[t._v("REAL")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("NUMERIC")]),t._v(", "),s("code",[t._v("DECIMAL(10,5)")]),t._v(", "),s("code",[t._v("BOOLEAN")]),t._v(", "),s("code",[t._v("DATE")]),t._v(", "),s("code",[t._v("DATETIME")])]),t._v(" "),s("td",[s("code",[t._v("NUMERIC")])])])])]),t._v(" "),s("h3",{attrs:{id:"boolean-数据类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#boolean-数据类型"}},[t._v("#")]),t._v(" Boolean 数据类型")]),t._v(" "),s("p",[t._v("SQLite 没有单独的 Boolean 存储类。相反，布尔值被存储为整数 0（false）和 1（true）。")]),t._v(" "),s("h3",{attrs:{id:"date-与-time-数据类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#date-与-time-数据类型"}},[t._v("#")]),t._v(" Date 与 Time 数据类型")]),t._v(" "),s("p",[t._v("SQLite 没有一个单独的用于存储日期和/或时间的存储类，但 SQLite 能够把日期和时间存储为 TEXT、REAL 或 INTEGER 值。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("存储类")]),t._v(" "),s("th",[t._v("日期格式")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("TEXT")])]),t._v(" "),s("td",[t._v('格式为 "YYYY-MM-DD HH:MM:SS.SSS" 的日期。')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("REAL")])]),t._v(" "),s("td",[t._v("从公元前 4714 年 11 月 24 日格林尼治时间的正午开始算起的天数。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("INTEGER")])]),t._v(" "),s("td",[t._v("从 1970-01-01 00:00:00 UTC 算起的秒数。")])])])]),t._v(" "),s("p",[t._v("您可以以任何上述格式来存储日期和时间，并且可以使用内置的日期和时间函数来自由转换不同格式。")]),t._v(" "),s("h2",{attrs:{id:"sqlite-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sqlite-命令"}},[t._v("#")]),t._v(" SQLite 命令")]),t._v(" "),s("h3",{attrs:{id:"快速开始"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速开始"}},[t._v("#")]),t._v(" 快速开始")]),t._v(" "),s("h4",{attrs:{id:"进入-sqlite-控制台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进入-sqlite-控制台"}},[t._v("#")]),t._v(" 进入 SQLite 控制台")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ sqlite3\nSQLite version "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.7")]),t._v(".17 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2013")]),t._v("-05-20 00:56:22\nEnter "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".help"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" instructions\nEnter SQL statements terminated with a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('";"')]),t._v("\nsqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h4",{attrs:{id:"进入-sqlite-控制台并指定数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进入-sqlite-控制台并指定数据库"}},[t._v("#")]),t._v(" 进入 SQLite 控制台并指定数据库")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ sqlite3 test.db\nSQLite version "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.7")]),t._v(".17 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2013")]),t._v("-05-20 00:56:22\nEnter "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".help"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" instructions\nEnter SQL statements terminated with a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('";"')]),t._v("\nsqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("h4",{attrs:{id:"退出-sqlite-控制台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#退出-sqlite-控制台"}},[t._v("#")]),t._v(" 退出 SQLite 控制台")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("sqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(".quit\n")])])]),s("h4",{attrs:{id:"查看命令帮助"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看命令帮助"}},[t._v("#")]),t._v(" 查看命令帮助")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("sqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(".help\n")])])]),s("h3",{attrs:{id:"常用命令清单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用命令清单"}},[t._v("#")]),t._v(" 常用命令清单")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v(".backup ?DB? FILE")]),t._v(" "),s("td",[t._v('备份 DB 数据库（默认是 "main"）到 FILE 文件。')])]),t._v(" "),s("tr",[s("td",[t._v(".bail ON|OFF")]),t._v(" "),s("td",[t._v("发生错误后停止。默认为 OFF。")])]),t._v(" "),s("tr",[s("td",[t._v(".databases")]),t._v(" "),s("td",[t._v("列出数据库的名称及其所依附的文件。")])]),t._v(" "),s("tr",[s("td",[t._v(".dump ?TABLE?")]),t._v(" "),s("td",[t._v("以 SQL 文本格式转储数据库。如果指定了 TABLE 表，则只转储匹配 LIKE 模式的 TABLE 表。")])]),t._v(" "),s("tr",[s("td",[t._v(".echo ON|OFF")]),t._v(" "),s("td",[t._v("开启或关闭 echo 命令。")])]),t._v(" "),s("tr",[s("td",[t._v(".exit")]),t._v(" "),s("td",[t._v("退出 SQLite 提示符。")])]),t._v(" "),s("tr",[s("td",[t._v(".explain ON|OFF")]),t._v(" "),s("td",[t._v("开启或关闭适合于 EXPLAIN 的输出模式。如果没有带参数，则为 EXPLAIN on，及开启 EXPLAIN。")])]),t._v(" "),s("tr",[s("td",[t._v(".header(s) ON|OFF")]),t._v(" "),s("td",[t._v("开启或关闭头部显示。")])]),t._v(" "),s("tr",[s("td",[t._v(".help")]),t._v(" "),s("td",[t._v("显示消息。")])]),t._v(" "),s("tr",[s("td",[t._v(".import FILE TABLE")]),t._v(" "),s("td",[t._v("导入来自 FILE 文件的数据到 TABLE 表中。")])]),t._v(" "),s("tr",[s("td",[t._v(".indices ?TABLE?")]),t._v(" "),s("td",[t._v("显示所有索引的名称。如果指定了 TABLE 表，则只显示匹配 LIKE 模式的 TABLE 表的索引。")])]),t._v(" "),s("tr",[s("td",[t._v(".load FILE ?ENTRY?")]),t._v(" "),s("td",[t._v("加载一个扩展库。")])]),t._v(" "),s("tr",[s("td",[t._v(".log FILE|off")]),t._v(" "),s("td",[t._v("开启或关闭日志。FILE 文件可以是 stderr（标准错误）/stdout（标准输出）。")])]),t._v(" "),s("tr",[s("td",[t._v(".mode MODE")]),t._v(" "),s("td",[t._v("设置输出模式，MODE 可以是下列之一："),s("strong",[t._v("csv")]),t._v(" 逗号分隔的值"),s("strong",[t._v("column")]),t._v(" 左对齐的列"),s("strong",[t._v("html")]),t._v(" HTML 的 "),s("table",[t._v(" 代码"),s("strong",[t._v("insert")]),t._v(" TABLE 表的 SQL 插入（insert）语句"),s("strong",[t._v("line")]),t._v(" 每行一个值"),s("strong",[t._v("list")]),t._v(" 由 .separator 字符串分隔的值"),s("strong",[t._v("tabs")]),t._v(" 由 Tab 分隔的值"),s("strong",[t._v("tcl")]),t._v(" TCL 列表元素")])])]),t._v(" "),s("tr",[s("td",[t._v(".nullvalue STRING")]),t._v(" "),s("td",[t._v("在 NULL 值的地方输出 STRING 字符串。")])]),t._v(" "),s("tr",[s("td",[t._v(".output FILENAME")]),t._v(" "),s("td",[t._v("发送输出到 FILENAME 文件。")])]),t._v(" "),s("tr",[s("td",[t._v(".output stdout")]),t._v(" "),s("td",[t._v("发送输出到屏幕。")])]),t._v(" "),s("tr",[s("td",[t._v(".print STRING...")]),t._v(" "),s("td",[t._v("逐字地输出 STRING 字符串。")])]),t._v(" "),s("tr",[s("td",[t._v(".prompt MAIN CONTINUE")]),t._v(" "),s("td",[t._v("替换标准提示符。")])]),t._v(" "),s("tr",[s("td",[t._v(".quit")]),t._v(" "),s("td",[t._v("退出 SQLite 提示符。")])]),t._v(" "),s("tr",[s("td",[t._v(".read FILENAME")]),t._v(" "),s("td",[t._v("执行 FILENAME 文件中的 SQL。")])]),t._v(" "),s("tr",[s("td",[t._v(".schema ?TABLE?")]),t._v(" "),s("td",[t._v("显示 CREATE 语句。如果指定了 TABLE 表，则只显示匹配 LIKE 模式的 TABLE 表。")])]),t._v(" "),s("tr",[s("td",[t._v(".separator STRING")]),t._v(" "),s("td",[t._v("改变输出模式和 .import 所使用的分隔符。")])]),t._v(" "),s("tr",[s("td",[t._v(".show")]),t._v(" "),s("td",[t._v("显示各种设置的当前值。")])]),t._v(" "),s("tr",[s("td",[t._v(".stats ON|OFF")]),t._v(" "),s("td",[t._v("开启或关闭统计。")])]),t._v(" "),s("tr",[s("td",[t._v(".tables ?PATTERN?")]),t._v(" "),s("td",[t._v("列出匹配 LIKE 模式的表的名称。")])]),t._v(" "),s("tr",[s("td",[t._v(".timeout MS")]),t._v(" "),s("td",[t._v("尝试打开锁定的表 MS 毫秒。")])]),t._v(" "),s("tr",[s("td",[t._v(".width NUM NUM")]),t._v(" "),s("td",[t._v('为 "column" 模式设置列宽度。')])]),t._v(" "),s("tr",[s("td",[t._v(".timer ON|OFF")]),t._v(" "),s("td",[t._v("开启或关闭 CPU 定时器。")])])])]),t._v(" "),s("h3",{attrs:{id:"实战"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实战"}},[t._v("#")]),t._v(" 实战")]),t._v(" "),s("h4",{attrs:{id:"格式化输出"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#格式化输出"}},[t._v("#")]),t._v(" 格式化输出")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sqlite>.header on\nsqlite>.mode column\nsqlite>.timer on\nsqlite>\n")])])]),s("h4",{attrs:{id:"输出结果到文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#输出结果到文件"}},[t._v("#")]),t._v(" 输出结果到文件")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("sqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" .mode list\nsqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" .separator "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\nsqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" .output teyptest_file_1.txt\nsqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" * from tbl1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsqlite"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" .exit\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" test_file_1.txt\nhello"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\ngoodbye"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\n$\n")])])]),s("h2",{attrs:{id:"java-client"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-client"}},[t._v("#")]),t._v(" JAVA Client")]),t._v(" "),s("p",[t._v("（1）在"),s("a",{attrs:{href:"https://bitbucket.org/xerial/sqlite-jdbc/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方下载地址"),s("OutboundLink")],1),t._v("下载 sqlite-jdbc-(VERSION).jar ，然后将 jar 包放在项目中的 classpath。")]),t._v(" "),s("p",[t._v("（2）通过 API 打开一个 SQLite 数据库连接。")]),t._v(" "),s("p",[t._v("执行方法：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" javac Sample.java\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("java")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-classpath")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".;sqlite-jdbc-(VERSION).jar"')]),t._v(" Sample   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# in Windows")]),t._v("\nor\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("java")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-classpath")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".:sqlite-jdbc-(VERSION).jar"')]),t._v(" Sample   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# in Mac or Linux")]),t._v("\nname "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" leo\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nname "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" yui\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n")])])]),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sample")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Connection")]),t._v(" connection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建数据库连接")]),t._v("\n            connection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DriverManager")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getConnection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jdbc:sqlite:sample.db"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Statement")]),t._v(" statement "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" connection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStatement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            statement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setQueryTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置 sql 执行超时时间为 30s")]),t._v("\n\n            statement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("executeUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"drop table if exists person"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            statement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("executeUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"create table person (id integer, name string)"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            statement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("executeUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"insert into person values(1, 'leo')\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            statement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("executeUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"insert into person values(2, 'yui')\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResultSet")]),t._v(" rs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" statement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("executeQuery")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select * from person"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 读取结果集")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name = "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" rs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id = "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" rs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SQLException")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 如果错误信息是 "out of memory"，可能是找不到数据库文件')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("connection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    connection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SQLException")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 关闭连接失败")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"如何指定数据库文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何指定数据库文件"}},[t._v("#")]),t._v(" 如何指定数据库文件")]),t._v(" "),s("p",[t._v("Windows")]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("Connection")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v('connection = DriverManager.getConnection("jdbc:sqlite:C:/work/mydatabase.db");')]),t._v("\n")])])]),s("p",[t._v("Unix (Linux, Mac OS X, etc)")]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("Connection")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v('connection = DriverManager.getConnection("jdbc:sqlite:/home/leo/work/mydatabase.db");')]),t._v("\n")])])]),s("h3",{attrs:{id:"如何使用内存数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何使用内存数据库"}},[t._v("#")]),t._v(" 如何使用内存数据库")]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("Connection")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v('connection = DriverManager.getConnection("jdbc:sqlite::memory:");')]),t._v("\n")])])]),s("h2",{attrs:{id:"参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.sqlite.org/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("SQLite 官网"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.sqlite.org/docs.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("SQLite 官方文档"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.sqlite.org/cli.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("SQLite 官方命令行手册"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("http://www.runoob.com/sqlite/sqlite-commands.html")]),t._v(" "),s("li",[t._v("https://github.com/xerial/sqlite-jdbc")]),t._v(" "),s("li",[t._v("http://www.runoob.com/sqlite/sqlite-java.html")])]),t._v(" "),s("h2",{attrs:{id:"传送门"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传送门"}},[t._v("#")]),t._v(" 🚪 传送门")]),t._v(" "),s("p",[t._v("| "),s("a",{attrs:{href:"https://dunwu.github.io/blog/",target:"_blank",rel:"noopener noreferrer"}},[t._v("钝悟的博客"),s("OutboundLink")],1),t._v(" | "),s("a",{attrs:{href:"https://github.com/dunwu/db-tutorial",target:"_blank",rel:"noopener noreferrer"}},[t._v("db-tutorial 首页"),s("OutboundLink")],1),t._v(" |")])])}),[],!1,null,null,null);s.default=n.exports}}]);